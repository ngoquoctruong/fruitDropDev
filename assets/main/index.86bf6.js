window.__require=function e(t,i,n){function s(c,a){if(!i[c]){if(!t[c]){var r=c.split("/");if(r=r[r.length-1],!t[r]){var h="function"==typeof __require&&__require;if(!a&&h)return h(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+c+"'")}c=r}var l=i[c]={exports:{}};t[c][0].call(l.exports,function(e){return s(t[c][1][e]||e)},l,l.exports,e,t,i,n)}return i[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<n.length;c++)s(n[c]);return s}({Ball:[function(e,t){"use strict";cc._RF.push(t,"aca6dldzKNI2YQe+yJ3LKVC","Ball");var i=e("GameConfig"),n=e("SoundManager");cc.Class({extends:cc.Component,properties:{soundManager:n,shadow:cc.Node,rigidbody:cc.RigidBody,forceMultiply:1e4,directionForce:cc.Vec2,angularImpulse:2e3},onLoad:function(){this._maxX=cc.Canvas.instance.designResolution.width/2,this._minX=-1*this._maxX,this.node.zIndex=i.ORDER_LAYER.BALL,this.basketTriggerPointStack=[]},start:function(){},onBeginContact:function(e,t,n){if(n.tag!==i.COLLIDE_TAG.PLATFORM)if(n.tag===i.COLLIDE_TAG.BACK_BOARD&&this.soundManager.playSfx(i.SOUND_SFX.BACK_BOARD),n.tag===i.COLLIDE_TAG.TOP_BASKET)this._previousContactBasket=i.COLLIDE_TAG.TOP_BASKET;else if(n.tag===i.COLLIDE_TAG.BOTTOM_BASKET)this._previousContactBasket=i.COLLIDE_TAG.BOTTOM_BASKET;else if(n.tag===i.COLLIDE_TAG.MIDDLE_BASKET){if(!this._previousContactBasket||this._previousContactBasket===i.COLLIDE_TAG.BOTTOM_BASKET)return;this._previousContactBasket=null,this.node.dispatchEvent(new cc.Event.EventCustom("onBallInBasket",!0)),this.soundManager.playSfx(i.SOUND_SFX.PERFECT_SHOT)}},throwBallToBasket:function(e){var t=e===i.DIRECTION.RIGHT?1:-1;this.rigidbody.linearVelocity=cc.Vec2.ZERO,this.rigidbody.applyForceToCenter(new cc.Vec2(t*this.directionForce.x*this.forceMultiply,this.directionForce.y*this.forceMultiply),!0),this.rigidbody.applyAngularImpulse(this.angularImpulse*t*-1,!0),this.soundManager.playSfx(i.SOUND_SFX.PUSH_BALL)},update:function(){this.node.x>this._maxX?this.node.x=this._minX:this.node.x<this._minX&&(this.node.x=this._maxX),this.shadow.x=this.node.x,this.shadow.scale=1-Math.min((this.node.y-this.shadow.y-40)/500,1),this.shadow.opacity=255*(1-Math.min((this.node.y-this.shadow.y-40)/500,1))}}),cc._RF.pop()},{GameConfig:"GameConfig",SoundManager:"SoundManager"}],Basket:[function(e,t){"use strict";cc._RF.push(t,"3ab360vfBFO857XCm6Y52Ak","Basket");var i=e("GameConfig"),n=e("SoundManager");cc.Class({extends:cc.Component,properties:{soundManager:n,elements:[cc.Node],wallDirection:{type:i.DIRECTION,default:i.DIRECTION.RIGHT}},onLoad:function(){this._direction=this.wallDirection===i.DIRECTION.RIGHT?1:-1,this._rangeYaxis=cc.winSize.height/2*.4;var e=Math.min(cc.Canvas.instance.designResolution.width/2,cc.winSize.width/2)*this._direction,t=new cc.v3(e+233*this._direction,0,0).sub(this.node.position);this.moveBasket(t)},show:function(){var e=2*(Math.random()-.5)*this._rangeYaxis,t=new cc.v3(this.node.x,e,0).sub(this.node.position);this.moveBasket(t);for(var i=0;i<this.elements.length;i++){var n=this.elements[i];cc.tween(n).delay(.2).to(.45,{position:{value:cc.v2(n.x-300*this._direction,n.y),easing:"quartOut"}}).start()}},hide:function(){for(var e=0;e<this.elements.length;e++){var t=this.elements[e];cc.tween(t).to(.45,{position:{value:cc.v2(t.x+300*this._direction,t.y),easing:"quartIn"}}).start()}},moveBasket:function(e){this.node.position=this.node.position.add(e);for(var t=0;t<this.elements.length;t++){var i=this.elements[t];i.position=i.position.add(e)}}}),cc._RF.pop()},{GameConfig:"GameConfig",SoundManager:"SoundManager"}],GameConfig:[function(e,t){"use strict";cc._RF.push(t,"2fd6dB61bFHLpxqeIe2l5ae","GameConfig");var i=cc.Enum({RIGHT:0,LEFT:1}),n=cc.Enum({DEFAULT:0,BASKET_TOP:10,BALL:15,BASKET_BOTTOM:20}),s=cc.Enum({PLATFORM:0,BACK_BOARD:50,TOP_BASKET:100,MIDDLE_BASKET:150,BOTTOM_BASKET:200}),o=cc.Enum({CLICK:0,BACK_BOARD:1,PUSH_BALL:2,PERFECT_SHOT:3});t.exports={DIRECTION:i,ORDER_LAYER:n,COLLIDE_TAG:s,START_TIME_DURATION:7,REDUCE_TIME_PERCENT:.05,MIN_TIME_DURATION:3,SOUND_SFX:o},cc._RF.pop()},{}],GameOverPanel:[function(e,t){"use strict";cc._RF.push(t,"b8e30R9SXlGsqxCMiYj+GB0","GameOverPanel"),cc.Class({extends:cc.Component,properties:{content:cc.Node,lbScore:cc.Label},show:function(e,t){this.node.active=!0,this.content.scale=0,this.lbScore.string=""+e,cc.tween(this.content).to(.25,{scale:{value:1,easing:"backOut"}}).call(function(){t&&t()}).start()},hide:function(e){var t=this;this.content.scale=1,cc.tween(this.content).to(.25,{scale:{value:0,easing:"expoIn"}}).call(function(){t.node.active=!1,e&&e()}).start()}}),cc._RF.pop()},{}],MainGame:[function(e,t){"use strict";cc._RF.push(t,"393a8iO4pJMxZ08hy2RGrLX","MainGame");var i=e("Ball"),n=e("Basket"),s=e("GameConfig"),o=e("PausePanel"),c=e("GameOverPanel"),a=e("SoundManager");cc.Class({extends:cc.Component,properties:{ball:i,baskets:[n],soundManager:a,canvas:cc.Node,hud:cc.Node,pauseWidget:cc.Widget,lbScore:cc.Label,score:0,timeBar:cc.ProgressBar,timeCountDownPercent:0,pausePanel:o,gameOverPanel:c,ballCount:0},onLoad:function(){this.node.width>cc.winSize.width?this.pauseWidget.target=this.canvas:this.pauseWidget.target=this.hud,this.physicsManager=cc.director.getPhysicsManager(),this.physicsManager.enabled=!0,this._basketDirection=s.DIRECTION.RIGHT},start:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchScreen,this),this.node.on("onBallInBasket",this.onBallInBasket,this),this.timeBar.node.active=!1,this.showBasket()},showBasket:function(){this.baskets[this._basketDirection].show()},onTouchScreen:function(){this.ball.throwBallToBasket(this._basketDirection)},onBallInBasket:function(){var e=this;this.ballCount+=1,this.score+=1,this.lbScore.string=this.score,this.baskets[this._basketDirection].hide(),this.updateTimeBar(),cc.tween(this.node).delay(.05).call(function(){e._basketDirection=e._basketDirection===s.DIRECTION.RIGHT?s.DIRECTION.LEFT:s.DIRECTION.RIGHT,e.showBasket()}).start()},updateTimeBar:function(){this.score<1||(this.timeBar.node.active||(this.timeBar.node.active=!0),this._startTimeDuration=Math.max(s.START_TIME_DURATION-s.START_TIME_DURATION*s.REDUCE_TIME_PERCENT*Math.floor(this.ballCount/10),s.MIN_TIME_DURATION),this._curTimeDuration=this._startTimeDuration,this._hasStartCountdown=!0)},resetGame:function(){this.score=0,this.ballCount=0},showGameOver:function(){this.gameOverPanel.show(this.score)},onPauseClicked:function(){this.soundManager.playSfx(s.SOUND_SFX.CLICK),this.pausePanel.show(function(){return cc.director.pause()})},onContinueClicked:function(){this.soundManager.playSfx(s.SOUND_SFX.CLICK),cc.director.resume(),this.pausePanel.hide()},onReplayClicked:function(){this.soundManager.playSfx(s.SOUND_SFX.CLICK),cc.director.resume(),this.pausePanel.hide(function(){return cc.director.loadScene("maingame")})},update:function(e){this._hasStartCountdown&&(this._curTimeDuration=Math.max(this._curTimeDuration-e,0),this.timeBar.progress=this._curTimeDuration/this._startTimeDuration,this._curTimeDuration<=0&&(this._hasStartCountdown=!1,this.showGameOver()))}}),cc._RF.pop()},{Ball:"Ball",Basket:"Basket",GameConfig:"GameConfig",GameOverPanel:"GameOverPanel",PausePanel:"PausePanel",SoundManager:"SoundManager"}],OrderLayerHelper:[function(e,t){"use strict";cc._RF.push(t,"e2151UK74xCoraNFwXpryds","OrderLayerHelper");var i=e("GameConfig");cc.Class({extends:cc.Component,properties:{layer:{type:i.ORDER_LAYER,default:i.ORDER_LAYER.DEFAULT}},onLoad:function(){this.node.zIndex=this.layer}}),cc._RF.pop()},{GameConfig:"GameConfig"}],PausePanel:[function(e,t){"use strict";cc._RF.push(t,"4f2c94SwGVCcLeeR4ljWtfx","PausePanel"),cc.Class({extends:cc.Component,properties:{content:cc.Node},show:function(e){this.node.active=!0,this.content.scale=0,cc.tween(this.content).to(.25,{scale:{value:1,easing:"backOut"}}).call(function(){e&&e()}).start()},hide:function(e){var t=this;this.content.scale=1,cc.tween(this.content).to(.25,{scale:{value:0,easing:"expoIn"}}).call(function(){t.node.active=!1,e&&e()}).start()}}),cc._RF.pop()},{}],ScreenAspectHelper:[function(e,t){"use strict";cc._RF.push(t,"51896HjsqpBQK6utK64/qr0","ScreenAspectHelper"),cc.Class({extends:cc.Component,onLoad:function(){console.log(cc.Canvas.instance.designResolution),console.log(cc.winSize),cc.Canvas.instance.fitHeight}}),cc._RF.pop()},{}],SoundManager:[function(e,t){"use strict";cc._RF.push(t,"983cdO+h4hCT6EeUj77ApJL","SoundManager"),cc.Class({extends:cc.Component,properties:{audioClips:[cc.AudioClip]},onLoad:function(){var e=cc.sys.localStorage.getItem("jp.co.digitalwill.basketball.soundConfig");null==e&&(e=!0),this.isSoundOn="true"===e},onSoundConfigToggle:function(){this.isSoundOn=!this.isSoundOn,cc.sys.localStorage.setItem("jp.co.digitalwill.basketball.soundConfig",this.isSoundOn),cc.audioEngine.setMusicVolume(~~this.isSoundOn)},playSfx:function(e){cc.audioEngine.play(this.audioClips[e],!1,1)}}),cc._RF.pop()},{}],WallHelper:[function(e,t){"use strict";var i;cc._RF.push(t,"86bb3dhf7pDsJB0gPy3lNF9","WallHelper"),i=cc.Enum({Top:0,Bottom:1,Left:2,Right:3}),cc.Class({extends:cc.Component,properties:{physicsBoxCollider:cc.PhysicsBoxCollider,state:{type:i,default:i.Bottom}},onLoad:function(){switch(this.state){case i.Top:this.physicsBoxCollider.size.width=cc.winSize.width,this.physicsBoxCollider.size.height=.2*cc.winSize.height,this.physicsBoxCollider.offset.y=.8*cc.winSize.height/2;case i.Bottom:this.physicsBoxCollider.size.width=cc.winSize.width,this.physicsBoxCollider.size.height=.162*cc.winSize.height,this.physicsBoxCollider.offset.y=-.848*cc.winSize.height/2;break;case i.Left:this.physicsBoxCollider.size.width=100,this.physicsBoxCollider.size.height=cc.winSize.height,this.physicsBoxCollider.offset.x=(cc.winSize.width+100)/2*-1;break;case i.Right:this.physicsBoxCollider.size.width=100,this.physicsBoxCollider.size.height=cc.winSize.height,this.physicsBoxCollider.offset.x=(cc.winSize.width+100)/2}}}),cc._RF.pop()},{}]},{},["Ball","Basket","GameConfig","GameOverPanel","MainGame","PausePanel","OrderLayerHelper","ScreenAspectHelper","SoundManager","WallHelper"]);