System.register("chunks:///_virtual/UIManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,i,t,a,n,o,l,u,c,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Node,u=e.Label,c=e.AudioSource,s=e.Component}],execute:function(){var p,y,g,b,f,m,v,h,L,w,z,M,d,I,O;n._RF.push({},"0978eIL/6hIl7rstx9hjSo+","UIManager",void 0);var S=o.ccclass,x=o.property;e("UIManager",(p=S("UIManager"),y=x(l),g=x(l),b=x(l),f=x(u),m=x(u),v=x(c),p((w=r((L=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return r=e.call.apply(e,[this].concat(n))||this,t(a(r),"titleLayer",w,a(r)),t(a(r),"mainMenuLayer",z,a(r)),t(a(r),"gameOverLayer",M,a(r)),t(a(r),"score",d,a(r)),t(a(r),"gameOverScore",I,a(r)),t(a(r),"sfx",O,a(r)),r}i(r,e);var n=r.prototype;return n.setScore=function(e){this.score.string=e,this.gameOverScore.string=e},n.showGameOver=function(){this.sfx.play(),this.mainMenuLayer.active=!1,this.gameOverLayer.active=!0},n.onPause=function(){},r}(s)).prototype,"titleLayer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=r(L.prototype,"mainMenuLayer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=r(L.prototype,"gameOverLayer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=r(L.prototype,"score",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=r(L.prototype,"gameOverScore",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=r(L.prototype,"sfx",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=L))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/TrailHelper.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,o,a,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,p=e.Component}],execute:function(){var c,s,u,f,d;o._RF.push({},"6ee74pef7tIwqqVL8vC/6dE","TrailHelper",void 0);var h=a.ccclass,y=a.property;e("TrailHelper",(c=h("TrailHelper"),s=y(l),c((d=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(n(t),"target",d,n(t)),t}return r(t,e),t.prototype.update=function(e){this.node.position=this.target.position},t}(p)).prototype,"target",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=f))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./ObstacleSpawner.ts","./Ball.ts"],(function(t){"use strict";var e,n,r,o,i,a,s,l,u,c,h,d,g,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.defineProperty,o=t.assertThisInitialized,i=t.initializerDefineProperty},function(t){a=t.cclegacy,s=t._decorator,l=t.AudioSource,u=t.systemEvent,c=t.SystemEvent,h=t.director,d=t.Component},function(t){g=t.UIManager},function(t){f=t.ObstacleSpawner},function(t){p=t.Ball}],execute:function(){var b,C,S,v,m,y,M,T,w,E,I;t("GAME_STATE",void 0),a._RF.push({},"87501ghk+5B3aHIts1KkJPN","GameManager",void 0);var L,A=s.ccclass,G=s.property;!function(t){t[t.TITLE=0]="TITLE",t[t.PLAYING=1]="PLAYING",t[t.PAUSE=2]="PAUSE",t[t.GAME_OVER=3]="GAME_OVER"}(L||(L=t("GAME_STATE",{})));t("GameManager",(b=A("GameManager"),C=G(f),S=G(g),v=G(l),m=G(p),b((T=e((M=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,r(o(e),"State",L.TITLE),i(o(e),"obstacleSpawner",T,o(e)),i(o(e),"uiManager",w,o(e)),i(o(e),"bgm",E,o(e)),i(o(e),"ball",I,o(e)),r(o(e),"roundDelay",1.7),r(o(e),"startColorIndex",null),r(o(e),"roundQueue",[]),r(o(e),"score",0),r(o(e),"roundLevel",0),e}n(e,t);var a=e.prototype;return a.start=function(){this.score=0,window.globalThis.gameManager=this,u.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.startColorIndex=Math.floor(Math.random()*this.getColorCount()),this.ball.setColor(this.startColorIndex),this.uiManager.titleLayer.active=!0,this.bgm.play(),this.ball.node.on("onCorrectColor",this.onCorrectColor,this),this.ball.node.on("onWrongColor",this.onWrongColor,this)},a.onTouchStart=function(t){this.State===L.TITLE&&(this.State=L.PLAYING,this.uiManager.titleLayer.active=!1,this.uiManager.mainMenuLayer.active=!0,this.ball.isRun=!0,this.startNewRound())},a.isPlaying=function(){return this.State===L.PLAYING},a.getColorCount=function(){return this.ball.getColorCount()},a.startNewRound=function(){var t=this;if(this.State===L.PLAYING){this.roundLevel+=1;var e=null;1===this.roundLevel?(this.ball.setColor(this.startColorIndex),e=this.obstacleSpawner.Spawn(this.startColorIndex)):e=this.obstacleSpawner.Spawn(-1),this.roundQueue.push(e),this.scheduleOnce((function(){return t.startNewRound()}),this.roundDelay)}},a.onCorrectColor=function(){this.addScore(),this.changeColor()},a.onWrongColor=function(){this.removeCurrentRound(),this.setGameOver()},a.addScore=function(){this.score+=1,this.uiManager.setScore(this.score.toString())},a.changeColor=function(){for(var t=this.roundQueue.shift().obstacles,e=0;e<t.length;e++){t[e].node.destroy()}var n=this.roundQueue[0].colorRange,r=n[Math.floor(Math.random()*n.length)];this.ball.setColor(r)},a.removeCurrentRound=function(){for(var t=this.roundQueue.shift().obstacles,e=0;e<t.length;e++){t[e].node.destroy()}},a.setGameOver=function(){this.State=L.GAME_OVER,this.uiManager.showGameOver(),this.roundLevel=0,this.ball.isRun=!1,this.bgm.stop()},a.Replay=function(){h.loadScene("maingame")},e}(d)).prototype,"obstacleSpawner",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(M.prototype,"uiManager",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(M.prototype,"bgm",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(M.prototype,"ball",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=M))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/Ball.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Obstacle.ts"],(function(e){"use strict";var t,i,r,o,n,l,a,s,u,c,h,p,d,b,f,g,m,y,x,C,v,w,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.defineProperty},function(e){l=e.cclegacy,a=e._decorator,s=e.Material,u=e.MeshRenderer,c=e.Camera,h=e.Node,p=e.Collider,d=e.AudioSource,b=e.ParticleSystem,f=e.Color,g=e.systemEvent,m=e.SystemEvent,y=e.Vec3,x=e.BoxCollider,C=e.math,v=e.Vec2,w=e.Component},function(e){z=e.Obstacle}],execute:function(){var F,M,P,R,S,T,B,E,L,O,_,I,k,A,D,j,V,X,Y,H,N,Q,U,G,W;l._RF.push({},"bfd12tnQtlGUry1xBN7gQyc","Ball",void 0);var q=a.ccclass,J=a.property;e("Ball",(F=q("Ball"),M=J(s),P=J(u),R=J(c),S=J(h),T=J(p),B=J(d),E=J(d),L=J(b),O=J(b),_=J(f),F((A=t((k=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,r(o(t),"colorMaterial",A,o(t)),r(o(t),"meshRenderer",D,o(t)),r(o(t),"camera",j,o(t)),r(o(t),"model",V,o(t)),r(o(t),"collider",X,o(t)),r(o(t),"hitSfx",Y,o(t)),r(o(t),"breakSfx",H,o(t)),r(o(t),"trailFx",N,o(t)),r(o(t),"explosionFx",Q,o(t)),r(o(t),"trailColor",U,o(t)),n(o(t),"colorIndex",0),n(o(t),"roundLevel",0),n(o(t),"isRun",!1),n(o(t),"canRotate",!0),r(o(t),"speed",G,o(t)),r(o(t),"radius",W,o(t)),n(o(t),"posX",0),n(o(t),"posY",0),n(o(t),"angle",0),n(o(t),"centerPoint",new v(0,0)),t}i(t,e);var l=t.prototype;return l.start=function(){g.on(m.EventType.TOUCH_MOVE,this.onTouchMove,this),this.resetPos(),this.collider.on("onTriggerEnter",this.onTriggerEnter,this)},l.onTouchMove=function(e){var t=e.getDelta().x;this.angle+=t*this.speed},l.update=function(e){this.rotateObject(e),this.isRun&&this.updatePos()},l.updatePos=function(){this.posX=this.centerPoint.x+Math.cos(this.angle)*this.radius,this.posY=this.centerPoint.y+Math.sin(this.angle)*this.radius,this.node.position=new y(this.posX,this.posY,0),this.angle>=360&&(this.angle=0)},l.rotateObject=function(e){this.canRotate&&(this.model.eulerAngles=this.model.eulerAngles.add(new y(500*e,0,0)))},l.onTriggerEnter=function(e){var t=e.otherCollider.node.getComponent(z);e.otherCollider.node.getComponent(x).isTrigger=!1;var i=t.colorIndex;this.roundLevel!==t.roundLevel&&(this.colorIndex===i?(this.node.emit("onCorrectColor"),this.roundLevel=t.roundLevel,this.hitSfx.play()):(this.node.emit("onWrongColor"),this.breakSfx.play(),this.trailFx.stop(),this.model.active=!1,this.canRotate=!1,this.explosionFx.play()))},l.resetPos=function(){this.angle=C.toRadian(-90)},l.getColorCount=function(){return this.colorMaterial.length},l.setColor=function(e){this.colorIndex=e,this.meshRenderer.material=this.colorMaterial[e],this.trailFx.startColor.color=this.trailColor[e],this.explosionFx.startColor.color=this.trailColor[e],this.trailFx.isPlaying||this.trailFx.play()},t}(w)).prototype,"colorMaterial",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(k.prototype,"meshRenderer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(k.prototype,"camera",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(k.prototype,"model",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(k.prototype,"collider",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(k.prototype,"hitSfx",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(k.prototype,"breakSfx",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(k.prototype,"trailFx",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(k.prototype,"explosionFx",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(k.prototype,"trailColor",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(k.prototype,"speed",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),W=t(k.prototype,"radius",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),I=k))||I));l._RF.pop()}}}));

System.register("chunks:///_virtual/Obstacle.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,o,a,s,l,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.defineProperty},function(e){a=e.cclegacy,s=e._decorator,l=e.Material,c=e.MeshRenderer,u=e.Vec3,p=e.Component}],execute:function(){var d,h,g,f,y,b,m;a._RF.push({},"d0457h1mcdOgYJI6/lhwy+H","Obstacle",void 0);var v=s.ccclass,M=s.property;e("Obstacle",(d=v("Obstacle"),h=M(l),g=M(c),d((b=t((y=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(n(t),"colorMaterial",b,n(t)),i(n(t),"meshRenderer",m,n(t)),o(n(t),"speed",70),o(n(t),"gameManager",void 0),o(n(t),"colorIndex",0),o(n(t),"roundLevel",0),t}r(t,e);var a=t.prototype;return a.onEnable=function(){this.gameManager=window.globalThis.gameManager},a.update=function(e){this.gameManager.isPlaying()&&(this.node.position=new u(this.node.position.x,this.node.position.y,this.node.position.z+this.speed*e))},a.setData=function(e,t){this.meshRenderer.material=this.colorMaterial[e],this.colorIndex=e,this.roundLevel=t},t}(p)).prototype,"colorMaterial",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=t(y.prototype,"meshRenderer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/ObstacleSpawner.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Obstacle.ts"],(function(t){"use strict";var e,r,a,n,o,i,s,l,c,u,h,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.defineProperty},function(t){i=t.cclegacy,s=t._decorator,l=t.Prefab,c=t.instantiate,u=t.Component,h=t.math},function(t){f=t.Obstacle}],execute:function(){var p,g,v,b,d;i._RF.push({},"f8855xYMmlJb4ihZtupB8pj","ObstacleSpawner",void 0);var M=s.ccclass,m=s.property;t("ObstacleSpawner",(p=M("ObstacleSpawner"),g=m(l),p((d=e((b=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,a(n(e),"obstaclePrefab",d,n(e)),o(n(e),"gameManager",void 0),o(n(e),"roundLevel",0),e}return r(e,t),e.prototype.Spawn=function(t){var e=this;if(this.gameManager=window.globalThis.gameManager,this.gameManager.isPlaying()){this.roundLevel+=1;for(var r=2*Math.PI/16,a=Math.floor(3*Math.random()+2),n=[],o=16,i=0;i<a;i++){var s=o-2*(a-1-i),l=Math.floor(Math.random()*(s-2+1)+2),u=0;i<a-1?(o-=l,u=l):u=o,n.push(u)}for(var p=[],g=function(){var r=e.gameManager.getColorCount(),a=Math.floor(Math.random()*r);return a===t&&(a=h.clamp(a+1,0,r)),a},v=Math.floor(Math.random()*n.length),b=function(e){return e===v?-1===t?g():t:g()},d=0;d<n.length;d++)p.push(b(d));for(var M=function(t){for(var e=0,r=0;r<n.length;r++){if(!(r>t))e+=n[r]}return e},m=[],y=0,P=0;P<16;P++)P<M(y)||y++,m.push(p[y]);for(var w=[],L=0;L<16;L++){var O=L*r,S=0+4.5*Math.cos(O),_=0+4.5*Math.sin(O),C=c(this.obstaclePrefab);C.setParent(this.node),C.setPosition(S,_,-300);var D=C.getComponent(f);D.setData(m[L],this.roundLevel),w.push(D)}return{colorRange:p,obstacles:w,round:this.roundLevel}}},e}(u)).prototype,"obstaclePrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=b))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./UIManager.ts","./TrailHelper.ts","./Obstacle.ts","./ObstacleSpawner.ts","./Ball.ts","./GameManager.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});